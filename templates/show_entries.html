{% extends "layout.html" %}
{% block body %}

<script>
 $(document).ready(function() {
   $("div.home_body").show();
 });
</script>

<!--Main input layer-->
<div class="home_body">
  {% if session.logged_in %}
    <form action="{{ url_for('add_entry') }}" method=post class=add-entry>
      <dl>
        <dt> <input type=text size=30 name=liquid placeholder="Liquid consumed">
        <dt> <input type=text name=qty size=20 placeholder="Quantity in ml">
        <dt><input type=submit value=Log class=allclick>
      </dl>
    </form>
  {% endif %}
</div>

<!--User control layer-->
<div class="user_control" id="dp">
   <button id="showlog" value=Log class=allclick>Show Log ({{ entry_count }})</button>
   <button id="hidelog" value=HideLog class=allclick style="display:none">Hide Log</button>
   <button id="showlog" value=Alert class=allclick>Show Alert (0)</button>
   <button id="showlog" value=Log class=allclick>Show Graph (0)</button>
</div>

<!--User data layer-->
<div class="user_data" id="user_log" style="display:none">
  <div class="user"><h3>{{ user }}'s log<h3></div>
  <ul class=entries>
  {% for entry in entries %}
    <li><h3 class="timestamp">{{ entry.timestamp }}</h3> <h4 class="liquid">{{ entry.liquid }} {{ entry.qty|safe }} ml </h4>
  {% else %}
    <li><em>Unbelievable.  No entries here so far</em>
  {% endfor %}
  </ul>
</div>

<script>
// Show user log 
 $("#showlog").click(function() {
   $("div.user_data").slideDown("slow");
   $(this).hide();
   $("#hidelog").show();
 });

// Hide user log
 $("#hidelog").click(function() {
   $(".user_data").slideUp("slow");
   $(this).hide();
   $("#showlog").show();
 });
</script>

{% endblock %}